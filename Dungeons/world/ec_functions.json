{
    "$goto_check": {
        "function": "engine:text/match",
        "text": {"#ref": "text"},
        "matches": [
            {
                "pattern": "go to (?P<dungeon_name>.*)",
                "functions": [
                    {
                        "function": "engine:text/set_case",
                        "case": "lower",
                        "text": {"#ref": "dungeon_name"},
                        "#store": "dungeon_name"
                    },
                    {
                        "function": "engine:dict/for_each",
                        "dict": {"#ref": "%dungeons"},
                        "run": {
                            "@check": {
                                "function": "engine:logic/compare",
                                "or": [
                                    {
                                        "==": [
                                            {"#ref": "dungeon_name"},
                                            {
                                                "function": "engine:text/set_case",
                                                "case": "lower",
                                                "text": {"#ref": "value.name"}
                                            }
                                        ]
                                    },
                                    {
                                        "==": [
                                            {"#ref": "dungeon_name"},
                                            {
                                                "function": "engine:text/set_case",
                                                "case": "lower",
                                                "text": {"#ref": "key"}
                                            }
                                        ]
                                    }
                                ]
                            },
                            "true": {
                                "functions": [
                                    {
                                        "function": "engine:player/set_location",
                                        "location": {"#ref": "value.entry_point.location"}
                                    },
                                    {"function": "engine:control/break"}
                                ]
                            }
                        }
                    }
                ]
            }
        ]
    }



}