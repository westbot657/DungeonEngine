{
    "environment_variables": {
        "%text/pattern/affirmation": "\\b(ye+(s+|p|ah)|sure|m+h+m+|ok(i|a+y+)?|affirmative)\\b",
        "%text/pattern/denial": "\\b(no+(pe)?|na+h|not *really)\\b"
    },
    "data_types": [
        "engine:ammo",
        "engine:armor",
        "engine:attack",
        "engine:combat",
        "engine:dungeon",
        "engine:enemy",
        "engine:entity",
        "engine:interactable",
        "engine:inventory",
        "engine:item",
        "engine:location",
        "engine:loot_table",
        "engine:player",
        "engine:position",
        "engine:room",
        "enigne:status_effect",
        "engine:status_effect_cause",
        "engine:tool",
        "engine:weapon",
        "engine:identifier",

        "engine:boolean",
        "engine:text",
        "engine:number",
        "engine:list",
        "engine:dict"
    ],
    "functions": {

        "$goto_check": {
            "function": "engine:text/match",
            "text": {"#ref": "text"},
            "matches": [
                {
                    "pattern": "go to (?P<dungeon_name>.*)",
                    "functions": [
                        {
                            "function": "engine:text/set_case",
                            "case": "lower",
                            "text": {"#ref": "dungeon_name"},
                            "#store": "dungeon_name"
                        },
                        {
                            "function": "engine:dict/for_each",
                            "dict": {"#ref": "%dungeons"},
                            "run": {
                                "@check": {
                                    "function": "engine:logic/compare",
                                    "or": [
                                        {
                                            "==": [
                                                {"#ref": "dungeon_name"},
                                                {
                                                    "function": "engine:text/set_case",
                                                    "case": "lower",
                                                    "text": {"#ref": "value.name"}
                                                }
                                            ]
                                        },
                                        {
                                            "==": [
                                                {"#ref": "dungeon_name"},
                                                {
                                                    "function": "engine:text/set_case",
                                                    "case": "lower",
                                                    "text": {"#ref": "key"}
                                                }
                                            ]
                                        }
                                    ]
                                },
                                "true": {
                                    "functions": [
                                        {
                                            "function": "engine:player/set_location",
                                            "location": {"#ref": "value.entry_point.location"}
                                        },
                                        {"function": "engine:dict/break"}
                                    ]
                                }
                            }
                        }
                    ]
                }
            ]
        }



    }
}